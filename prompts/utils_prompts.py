from langchain_core.prompts import ChatPromptTemplate


BILIBILI_CORRECT_TRANSCRIPT_PROMPT = ChatPromptTemplate.from_template(
    """
你是一名专业的视频内容转录和校对专家，尤其擅长游戏领域的内容。
以下是从B站视频中自动语音识别（ASR）转录的原始文本，以及该视频的标题、标签和简介。
ASR 结果可能存在错词、漏词、术语（特别是游戏术语、角色名、技能名）识别不准确等问题。

请根据提供的所有上下文信息（标题、标签、简介、原始文本），仔细进行校对和修正：
1.  **修正错词和别字，并使用简体中文**。
2.  **还原游戏术语**: 使用你已知的游戏知识，将错误的术语替换为正确的官方或常用名称。
3.  **语句通顺**: 在不改变原意的前提下，调整语序或补充词语，使语句更流畅自然，符合口语习惯。
4.  **保留风格**: 尽量保持视频内容的原始口语风格，避免过于书面化。
5.  **处理无法识别内容**: 如果遇到完全无法理解或过于混乱的句子，可以将其删除，但尽量保留有效信息。
6.  **参考上下文**: 充分利用视频标题、标签和简介提供的线索来辅助判断和修正。

#### 视频标题
{video_title}

#### 视频标签
{tag_string}

#### 视频简介
{description}

#### ASR 原始文本
{raw_text}

#### 注意事项
- 请直接输出修正后的完整文本。
- 不要添加任何与视频内容无关的编造信息。
- 不要添加诸如"修正后的文本："这样的额外说明。

修正后的文本：
"""
)
